
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles-dutyallocation.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Outfit&family=Sacramento&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/28b0a026e1.js" crossorigin="anonymous"></script>
  <link rel="icon" href="images/favicon-1.ico">
    <title></title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <form class="d-flex" action="/home" method="get">
                <button class="btn btn-outline-success" type="submit">Home</button>
              </form>
            </li>
          </ul>
          <form class="d-flex" method="post" action="/duty">
            <input class="form-control me-2" name="search1" type="search" size="100" placeholder="Enter the driver name" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
        </div>
      </div>
    </nav>
      <h1 style="  margin-bottom: 0px;"> Duty Allocation<br></h1>

    <% var temp=""%>
<!--
    <div class="border" >
      <div class="row">
    <% for (let i = 0; i < items.length; i++) { %>
      <%temp= "/duty/"+ items[i]['driver_id']+"/"+ i%>
      <div class="col-md-4 column" >
        <form method="get" action=<%=temp%>>
          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Duty Allocation</h5>
              <p class="card-text"> Search and allocate duties.</p>
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text"> Name: </p>
                  </div>
                  <div class="col-md-6">
                    <p class="card-text"><%=items[i]['name']%></p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text"> Driver ID: </p>
                  </div>
                  <div class="col-md-6">
                    <p class="card-text"><%=items[i]['driver_id']%></p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text"> Role :</p>
                  </div>
                  <div class="col-md-6">
                    <p class="card-text">Driver</p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text"> Bus No :</p>
                  </div>
                  <div class="col-md-6">
                    <input type="text" name="busno" style="width:98px;">
                  </div>
                </div>
                <br />

                <button type="submit"  class="btn btn-dark">Assign duty</button>
            </div>
          </div>
        </form>
      </div>
        <% if((i+1)%3==0){ %>
          <br>
          <%}%>
        <%}%>
      </div>
    </div> -->

    <% for (let i = 0; i < Math.floor(items.length/3); i++) { %>
      <div class="border" >
        <div class="row">
          <!-- style="width: 300px; margin-left: 325px;" -->
          <%temp= "/duty/"+ items[i*3+0]['driver_id']+"/"+ i*3+0%>
          <div class="col-md-4 column" >
            <form method="get" action=<%=temp%>>
              <div class="card" style="width: 18rem;">
                <div class="card-body">
                  <h5 class="card-title">Duty Allocation</h5>
                  <p class="card-text"> Search and allocate duties.</p>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Name: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+0]['name']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Driver ID: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+0]['driver_id']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Role :</p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text">Driver</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Bus No :</p>
                      </div>
                      <div class="col-md-6">
                        <input type="text" name="busno" style="width:98px;">
                      </div>
                    </div>
                    <br />

                    <button type="submit"  class="btn btn-dark">Assign duty</button>
                </div>
              </div>
            </form>
          </div>
          <!-- // 2nd card -->
          <%temp= "/duty/"+ items[i*3+1]['driver_id']+"/"+ i*3+1 %>
          <div class="col-md-4 column" >
            <form method="get" action=<%=temp%>>
              <div class="card" style="width: 18rem;">
                <div class="card-body">
                  <h5 class="card-title">Duty Allocation</h5>
                  <p class="card-text"> Search and allocate duties.</p>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Name: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+1]['name']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Driver ID: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+1]['driver_id']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Role :</p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text">Driver</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Bus No :</p>
                      </div>
                      <div class="col-md-6">
                        <input type="text" style="width:98px;">
                      </div>
                    </div>
                    <br />

                    <button type="submit"  class="btn btn-dark">Assign duty</button>
                </div>
              </div>
            </form>
          </div>
          <!-- 3rd card -->
          <%temp= "/duty/"+ items[i*3+2]['driver_id'] +"/2"%>
          <div class="col-md-4 column" >
            <form method="get" action=<%=temp%>>
              <div class="card" style="width: 18rem;">
                <div class="card-body">
                  <h5 class="card-title">Duty Allocation</h5>
                  <p class="card-text"> Search and allocate duties.</p>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Name: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+2]['name']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Driver ID: </p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text"><%=items[i*3+2]['driver_id']%></p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Role :</p>
                      </div>
                      <div class="col-md-6">
                        <p class="card-text">Driver</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <p class="card-text"> Bus No :</p>
                      </div>
                      <div class="col-md-6">
                        <input type="text" name="2" style="width:98px;">
                      </div>
                    </div>
                    <br />

                    <button type="submit"  class="btn btn-dark">Assign duty</button>
                </div>
              </div>
            </form>
          </div>
          <!-- Done -->
         </div>
      </div>
      <%}%>

      <%if(items.length%3==2){%>
        <div class="border" >
          <div class="row">
            <%temp= "/duty/"+ items[Math.floor(items.length/3)*3+0]['driver_id']+"/"+ Math.floor(items.length/3)*3+0 %>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+0]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Driver ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+0]['driver_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">Driver</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text" style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark">Assign duty</button>
                  </div>
                </div>
              </form>
            </div>

            <%temp= "/duty/"+ items[Math.floor(items.length/3)*3+1]['driver_id']+"/"+ Math.floor(items.length/3)*3+1 %>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+1]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Driver ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+1]['driver_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">Driver</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text"  style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark">Assign duty</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      <%}%>

      <%if(items.length%3==1){%>
        <div class="border" >
          <div class="row">
            <%temp= "/duty/"+ items[Math.floor(items.length/3)*3+0]['driver_id'] +"/"+ Math.floor(items.length/3)*3+0%>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+0]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Driver ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items[Math.floor(items.length/3)*3+0]['driver_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">Driver</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text"  style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark">Assign duty</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      <%}%>

      <!-- conductor start -->
      <% for (let i = 0; i < Math.floor(items1.length/3); i++) { %>
        <div class="border" >
          <div class="row">
            <!-- style="width: 300px; margin-left: 325px;" -->
            <%temp= "/duty/"+ items1[i*3+0]['conductor_id']+"/conductor"%>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+0]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> conductor ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+0]['conductor_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">conductor</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text" name="busno" style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark" onClick="confirmFunction()">Assign duty</button>
                      <script>
                      function confirmFunction() {
                          let person = prompt("Please enter your name", "Harry Potter");
                          console.log(person);
                      }

                      </script>
                  </div>
                </div>
              </form>
            </div>
            <!-- // 2nd card -->
            <%temp= "/duty/"+ items1[i*3+1]['conductor_id']+"/conductor" %>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+1]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> conductor ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+1]['conductor_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">conductor</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text" style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark">Assign duty</button>
                  </div>
                </div>
              </form>
            </div>
            <!-- 3rd card -->
            <%temp= "/duty/"+ items1[i*3+2]['conductor_id'] +"/conductor"%>
            <div class="col-md-4 column" >
              <form method="get" action=<%=temp%>>
                <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">Duty Allocation</h5>
                    <p class="card-text"> Search and allocate duties.</p>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Name: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+2]['name']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> conductor ID: </p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text"><%=items1[i*3+2]['conductor_id']%></p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Role :</p>
                        </div>
                        <div class="col-md-6">
                          <p class="card-text">conductor</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <p class="card-text"> Bus No :</p>
                        </div>
                        <div class="col-md-6">
                          <input type="text" name="2" style="width:98px;">
                        </div>
                      </div>
                      <br />

                      <button type="submit"  class="btn btn-dark">Assign duty</button>
                  </div>
                </div>
              </form>
            </div>
            <!-- Done -->
           </div>
        </div>
        <%}%>

        <%if(items1.length%3==2){%>
          <div class="border" >
            <div class="row">
              <%temp= "/duty/"+ items1[Math.floor(items1.length/3)*3+0]['conductor_id']+"/conductor"%>
              <div class="col-md-4 column" >
                <form method="get" action=<%=temp%>>
                  <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title">Duty Allocation</h5>
                      <p class="card-text"> Search and allocate duties.</p>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Name: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+0]['name']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> conductor ID: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+0]['conductor_id']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Role :</p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text">conductor</p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Bus No :</p>
                          </div>
                          <div class="col-md-6">
                            <input type="text" style="width:98px;">
                          </div>
                        </div>
                        <br />

                        <button type="submit"  class="btn btn-dark">Assign duty</button>
                    </div>
                  </div>
                </form>
              </div>

              <%temp= "/duty/"+ items1[Math.floor(items1.length/3)*3+1]['conductor_id']+"/conductor" %>
              <div class="col-md-4 column" >
                <form method="get" action=<%=temp%>>
                  <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title">Duty Allocation</h5>
                      <p class="card-text"> Search and allocate duties.</p>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Name: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+1]['name']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> conductor ID: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+1]['conductor_id']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Role :</p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text">conductor</p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Bus No :</p>
                          </div>
                          <div class="col-md-6">
                            <input type="text"  style="width:98px;">
                          </div>
                        </div>
                        <br />

                        <button type="submit"  class="btn btn-dark">Assign duty</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        <%}%>

        <%if(items1.length%3==1){%>
          <div class="border" >
            <div class="row">
              <%temp= "/duty/"+ items1[Math.floor(items1.length/3)*3+0]['conductor_id'] +"/conductor" %>
              <div class="col-md-4 column" >
                <form method="get" action=<%=temp%>>
                  <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title">Duty Allocation</h5>
                      <p class="card-text"> Search and allocate duties.</p>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Name: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+0]['name']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> conductor ID: </p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text"><%=items1[Math.floor(items1.length/3)*3+0]['conductor_id']%></p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Role :</p>
                          </div>
                          <div class="col-md-6">
                            <p class="card-text">conductor</p>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <p class="card-text"> Bus No :</p>
                          </div>
                          <div class="col-md-6">
                            <input type="text"  name = "busno" style="width:98px;">
                          </div>
                        </div>
                        <br />

                        <button type="submit"  class="btn btn-dark" >Assign duty</button>

                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        <%}%>
  </body>
</html>
